## 为什么要有树这种数据结构？

Lecture1谈过了链表，或者说数组也行。对于这样的数据结构，当要做搜索操作时，或者删除操作**(链表删除时依赖于搜索算法找到待删除节点的前面一个节点)**时，都是O(n)的时间复杂度。

即最坏情况下，我们要遍历完整个数据结构。

那么，树，可以把时间复杂度提到O(log(N))。这就是我们需要树的原因。



## 树的定义

#### 树是一系列节点的集合

##### 1.这个集合可以是空的，即可以是一棵空树

##### 2.需要用递归的定义：假如一棵树不是空树，那么这棵树由一个根节点r以及0棵或更多的子树T<sub>1</sub> , T<sub>2</sub>, ....., T<sub>k</sub>,组成。而这些子树的根节点都与r有一条边直接相连。(图见Lecture2 pdf，page3)



## 关于树的一些术语

##### 1.孩子和父亲~~(因为本科老师就把parent统称父亲了，有一部分教材会译做"双亲")~~

除了根节点外的所有其他节点都有一个父亲节点。

一个节点可以拥有任意数量的孩子节点。



##### 2.叶子

把没有孩子节点的节点称为"叶子节点"。



##### 3.兄弟

把属于同一父亲节点的所有节点互称"兄弟节点"。

**跟我们人类社会道理是相同的，不难理解。**



##### 4.路径

从一个节点到另一个节点就称作"路径"了。



##### 5.长度

一条路径上边的数量称为"长度"。



##### 6.节点深度

从根节点到对应节点的路径长度。

一棵树的深度 = 最深的叶子节点的深度



##### 7.节点高度

从当前节点出发到叶子节点的最长路径的长度。

所有的叶子节点的高度都是0。

一棵树的高度 = 根节点高度



##### 8.祖先和后代

从某一节点衍生出去，其衍生出来的所有节点都是其后代，其衍生出来的任意俩节点都有共同祖先。

一棵树的根节点是所有节点的共同祖先。



一种典型的树状结构，即树这一数据结构的应用就是UNIX 目录组织方式。



### 二叉树

二叉就是每个节点最多拥有两个孩子节点.  **~~(计划生育？？)~~**

对于N个元素，最坏情况下二叉树退化成链表，那么树的高度为N - 1。

#### 二叉树的应用

把二叉树叶子节点数据填充为变量或常数，其他节点数据为运算符。此时用树的中序遍历，就会得到算式。



### 树的遍历

上面应用部分提及了遍历。

树一般有，先序遍历，中序遍历，后序遍历三种遍历形式。

所谓先中后是根据根节点位于遍历中的顺序而言的。口诀：

先序："根左右"，打印根节点数据，递归遍历左子树，最后递归遍历右子树

中序："左根右"							后序："左右根"			          就按照先序的解释理解即可。



由于是递归地遍历，因此代码形式也非常简单，具体可以代码实现部分。



### 二叉搜索树

一个优良性质就是某节点X，其左子树上的所有键值都小于X的键值，其右子树上的所有keys都大于X的键值。

二叉搜索树的建立，搜索效率和你建立树时的根选取有较大关系。比如给定一个数组[1,2,3,4,5,6]建树，顺序遍历数组，那么1为root，2为1的右孩子，3又是2的右孩子，那么最后二叉搜索树退化成了链表，O(N)。

反之，假设以3或4作为根节点，那么树就会平衡得多。~~------因此后面有相继衍生出AVL，RBT等高效数据结构---~~--

**因此二叉搜索树一个节点的平均深度是O(logN)，最大深度是O(N)。**



#### 二叉搜索树的搜索

可以采取递归搜索的办法，比较要搜索的Key和当前Node的Key大小关系。相等就搜到了，递归结束。

若比当前Node.Key大，就去Node的右子树搜；否则，Node左子树搜。搜到最后为空了就是此Key不在树中。

搜索的时间复杂度为 **O(树的高度)**，即最坏情况下我们要一直搜到叶子节点。 树高可以参考上面的节点深度。



#### 二叉搜索树的插入

二叉搜索树每要插入一个值，总是作为叶子节点的。那么还是循着搜索算法的思路，采用递归的办法，假如要插入的Key = Node.Key，那么就不插入了，因为已经存在了。

假如Key < Node.Key，那么看看当前Node的左孩子是不是空着的，是的话就把这个新增的节点挂到左孩子上，否则就遍历Node的左子树。

假如Key > Node.Key，仿照上面同理。

插入的时间复杂度同样是 **O(树的高度)**。



#### 二叉搜索树的找最大最小

这个简单，找最大就一直往右孩子找，找到最后那一个就是最大的。最小就一直往左找。

时间复杂度同样是 **O(树的高度)**。



#### 二叉搜索树的删除

要分情况讨论，需要配合图片能更好理解，这里就列举一下情况。

##### 1.待删除节点是叶子节点

##### 2.待删除节点有一个孩子

##### 3.待删除节点有两个孩子



具体实现见代码。